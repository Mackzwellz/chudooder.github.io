<!DOCTYPE html>
<html>
<head>
	<title> Dota 2 Chat Wheel Scripter </title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<script src="js/jquery-2.0.3.js"></script>
	<div id="dialog-overlay"></div>
	<div id="title-container">
		<h1> Dota 2 Chat Wheel Scripting </h1>
		<p> Make your own chat wheels and bind them to different keys! </p>
	</div>

	<div class="container">
		<div class="left">
			<span class='helper'></span><img class='wheel' src="img/wheel.png">
		</div>
		<div class="right">
			<!-- Generated later -->
		</div>
		<div class="moreright">
			Select a key:
			<div class="key">

			</div>
		</div>
		<div style="clear:both"> </div>
	</div>


	<div id="dialog">
		<h1> Phrases </h1>
		<div id='dialog-scroll-list'>
			<!-- Generated later -->
		</div>
	</div>

	<div class="done-button">
		<div class="done-button-text">Done!</h1>
	</div>

</body>

<script>

	function phrase(name, gameindex) {
		this.name = name;
		this.gameindex = gameindex;
	}

	var phraseList = [
		new phrase("Careful!", 		1),
		new phrase("Get Back!", 	2),
		new phrase("Stun now!", 	4),
		new phrase("Push now", 		6),
		new phrase("Go!", 			12),
		new phrase("Initiate!", 	13),
		new phrase("Follow me", 	14),
		new phrase("Group up", 		15),
		new phrase("Spread out", 	16),
		new phrase("Split up and farm", 17),
		new phrase("Attack now!", 	18),
		new phrase("Be right back", 19),
		new phrase("Dive!", 		20),
		new phrase("On my way", 	21),
		new phrase("Get ready",		22),
		new phrase("Bait", 			23),
		new phrase("Help!",			5),
		new phrase("Heal",			24),
		new phrase("Mana",			25),
		new phrase("Out of mana",	26),
		new phrase("Skills on cooldown",	27),
		new phrase("Ultimate ready",		28),
		new phrase("Missing!",				8),
		new phrase("Missing top!",			9),
		new phrase("Missing mid!",			10),
		new phrase("Missing bottom!",		11),
		new phrase("Enemy returned",		29),
		new phrase("All enemy heroes missing!",		30),
		new phrase("Enemy incoming!",				31),
		new phrase("Invisible enemy nearby!",		32),
		new phrase("Enemy has rune",				33),
		new phrase("Split push",			34),
		new phrase("Coming to gank",		35),
		new phrase("Requesting a gank",		36),
		new phrase("Fight under the tower",	37),
		new phrase("Deny the tower!",		38),
		new phrase("We need wards.",		3),			
		new phrase("Buy a courier please",	39),			
		new phrase("Can anyone upgrade the courier?",	40),			
		new phrase("We need detection",		41),			
		new phrase("They have detection",	42),			
		new phrase("Buy a Teleport Scroll",	43),			
		new phrase("Re-use courier",		44),			
		new phrase("Deward please",			45),			
		new phrase("Building Mekansm",		46),			
		new phrase("Building Pipe",			47),			
		new phrase("Let's smoke gank!",		59),			
		new phrase("Stack and pull please",	48),			
		new phrase("Pull creeps please",	49),			
		new phrase("Pulling creeps",		50),			
		new phrase("Stack neutrals",		51),			
		new phrase("Jungling",				52),			
		new phrase("Roshan",				53),			
		new phrase("Okay.",					0),			
		new phrase("Affirmative",			54),			
		new phrase("Wait",					55),			
		new phrase("Pause please!",			56),			
		new phrase("Current Game Time",		57),			
		new phrase("Check runes please",	58),			
		new phrase("Well played!",			7),			
		new phrase("Good luck, have fun",	60),			
		new phrase("Nice",					61),			
		new phrase("Thanks!",				62),			
		new phrase("Sorry",					63),			
		new phrase("Don't give up!",		64),			
		new phrase("That just happened",	65),			
		new phrase("Game is hard",			66),
		new phrase("New meta",				67),
		new phrase("My bad",				68),
		new phrase("I immediately regret my decision",	69),		
		new phrase("Relax, you're doing fine",			70)
	];

	for(var i=0; i<8; i++) {
		var phrase = phraseList[i].name;
		$('.right').append("<div class=\"box number"+i+"\">\n<div class='box-text'>"+phrase+"</div>\n</div>");
	}

	//Set up the phrase selection dialog.
	var dialog = $('#dialog-scroll-list');
	for(var i=0; i<phraseList.length; i++) {
		var num;
		if(i < 10) num = "0"+i;
		else num = i;
		if(i==0) dialog.append("<hr><h2> POSITIONING </h2>");
		if(i==16) dialog.append("<hr><h2> STATUS </h2>");
		if(i==22) dialog.append("<hr><h2> ENEMY </h2>");
		if(i==31) dialog.append("<hr><h2> LANE </h2>");
		if(i==36) dialog.append("<hr><h2> ITEMS </h2>");
		if(i==47) dialog.append("<hr><h2> NEUTRALS </h2>");
		if(i==53) dialog.append("<hr><h2> MISC </h2>");
		if(i==59) dialog.append("<hr><h2> FLAVOR </h2>");
		dialog.append("<div class='dialog-text num"+num+"'>"+phraseList[i].name+"</div>");
	}

	$(document).ready(function() {

		var targetBox = null;
		var targetIndex = -1;
		//Holds data for the selected phrases
		var selections = [];
		selections[0] = [0,1,2,3,4,5,6,7];

		$('.box').click(function(e) {
			targetBox = $(this);
			var txt = e.target.className;
			var num = txt.charAt(txt.length-1);
			targetIndex = num;
			$('#dialog').fadeIn(200);
			$('#dialog-overlay').fadeIn(200);
		});

		$('.box').mouseenter(function(e) {
			var txt = e.target.className;
			var num = txt.charAt(txt.length-1);
			var deg = num*45;
			$('.wheel').css("transform","rotate("+deg+"deg)");
			$('.wheel').css("-webkit-transform","rotate("+deg+"deg)");
		});

		$('.box').mouseleave(function(e) {
			$('.wheel').css("transform","rotate(0deg)");
			$('.wheel').css("-webkit-transform","rotate(0deg)");
		});

		$(".dialog-text").click(function(e) {
			var txt = e.target.className;
			var num = parseInt(txt.charAt(txt.length-2)+txt.charAt(txt.length-1));
			selections[0][targetIndex] = num;
			targetBox.children('.box-text').text($(this).text());
			$('#dialog').fadeOut(200);
			$('#dialog-overlay').fadeOut(200);
			targetBox = null;
			targetIndex = -1;
		});

		$(".done-button").click(function(e) {
			makeConfig();
		});

		$("#dialog-overlay").click(function(e) {
			targetBox = null;
			targetIndex = -1;
			$('#dialog').fadeOut(200);
			$('#dialog-overlay').fadeOut(200);
		});

		var makeConfig = function() {
			var script = "";
			script += "bind y \"+chatwheel; chat0\"\nalias chat0\""
			for(var i=0; i<8; i++) {
				script += "chat_wheel_phrase_"+i+" "+selections[0][i]+";";
			}
			script += "\"";
			alert(script);
		}

	});
</script>

<div id="preload">
   <img src="img/wheel.png" width="1" height="1" alt="Image 02" />
</div>


</html>